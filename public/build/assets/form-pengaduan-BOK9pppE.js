import{r as d,j as t,t as U,m as K,V as N}from"./app-Dm1u0AXE.js";import{I as w}from"./input-error-DJ4-iW0F.js";import{c as q,B as $}from"./button-B8HR8UnQ.js";import{C as W}from"./calendar-CragfIHi.js";import{C as V,b as Z,c as G,d as H,a as J}from"./card-1ZUrRkMv.js";import{D as X,a as Y,b as Q,d as ee,e as te}from"./dialog-CQTkj3Q3.js";import{F as re}from"./file-upload-Bz9BrVB4.js";import{I as D}from"./input-BaJRjrjP.js";import{L as v}from"./label-CZMCKa80.js";import{P as ne,a as ae,b as se}from"./popover-Bj3mEgSt.js";import{R as S}from"./required-BD6F-E_k.js";import"./index-Cvxo1Tyn.js";import{c as P}from"./utils-7joyUr45.js";import{T as oe}from"./textarea-DTTXRLDC.js";import{t as ie,b as j,f as ce,i as ue}from"./id-CN8iUG6p.js";import{c as de}from"./createLucideIcon-HjjLzNTO.js";import{C as le}from"./calendar-BCZyaa7O.js";import"./floating-ui.react-dom-emiYphFk.js";import"./index-B3UD-b76.js";import"./tslib.es6-BUas5LQb.js";import"./index-Dnhm-l57.js";import"./proxy-BT2sQeIr.js";import"./index-D0x30HOr.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],me=de("Info",fe);function R(e,r){const n=ie(e,r==null?void 0:r.in);if(isNaN(+n))throw new RangeError("Invalid time value");const u=(r==null?void 0:r.format)??"extended",a=(r==null?void 0:r.representation)??"complete";let s="",o="";const i=u==="extended"?"-":"",l=u==="extended"?":":"";if(a!=="time"){const c=j(n.getDate(),2),f=j(n.getMonth()+1,2);s=`${j(n.getFullYear(),4)}${i}${f}${i}${c}`}if(a!=="date"){const c=n.getTimezoneOffset();if(c!==0){const x=Math.abs(c),b=j(Math.trunc(x/60),2),k=j(x%60,2);o=`${c<0?"+":"-"}${b}:${k}`}else o="Z";const f=j(n.getHours(),2),m=j(n.getMinutes(),2),p=j(n.getSeconds(),2),h=s===""?"":"T",g=[f,m,p].join(l);s=`${s}${h}${g}${o}`}return s}function pe(e,r,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e==null||e(a),n===!1||!a.defaultPrevented)return r==null?void 0:r(a)}}function I(e,r){if(typeof e=="function")return e(r);e!=null&&(e.current=r)}function he(...e){return r=>{let n=!1;const u=e.map(a=>{const s=I(a,r);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let a=0;a<u.length;a++){const s=u[a];typeof s=="function"?s():I(e[a],null)}}}}function E(...e){return d.useCallback(he(...e),e)}function ge(e,r=[]){let n=[];function u(s,o){const i=d.createContext(o),l=n.length;n=[...n,o];const c=m=>{var k;const{scope:p,children:h,...g}=m,x=((k=p==null?void 0:p[e])==null?void 0:k[l])||i,b=d.useMemo(()=>g,Object.values(g));return t.jsx(x.Provider,{value:b,children:h})};c.displayName=s+"Provider";function f(m,p){var x;const h=((x=p==null?void 0:p[e])==null?void 0:x[l])||i,g=d.useContext(h);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${s}\``)}return[c,f]}const a=()=>{const s=n.map(o=>d.createContext(o));return function(i){const l=(i==null?void 0:i[e])||s;return d.useMemo(()=>({[`__scope${e}`]:{...i,[e]:l}}),[i,l])}};return a.scopeName=e,[u,xe(a,...r)]}function xe(...e){const r=e[0];if(e.length===1)return r;const n=()=>{const u=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const o=u.reduce((i,{useScope:l,scopeName:c})=>{const m=l(s)[`__scope${c}`];return{...i,...m}},{});return d.useMemo(()=>({[`__scope${r.scopeName}`]:o}),[o])}};return n.scopeName=r.scopeName,n}var F=globalThis!=null&&globalThis.document?d.useLayoutEffect:()=>{},ke=U[" useInsertionEffect ".trim().toString()]||F;function je({prop:e,defaultProp:r,onChange:n=()=>{},caller:u}){const[a,s,o]=be({defaultProp:r,onChange:n}),i=e!==void 0,l=i?e:a;{const f=d.useRef(e!==void 0);d.useEffect(()=>{const m=f.current;m!==i&&console.warn(`${u} is changing from ${m?"controlled":"uncontrolled"} to ${i?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=i},[i,u])}const c=d.useCallback(f=>{var m;if(i){const p=ve(f)?f(e):f;p!==e&&((m=o.current)==null||m.call(o,p))}else s(f)},[i,e,s,o]);return[l,c]}function be({defaultProp:e,onChange:r}){const[n,u]=d.useState(e),a=d.useRef(n),s=d.useRef(r);return ke(()=>{s.current=r},[r]),d.useEffect(()=>{var o;a.current!==n&&((o=s.current)==null||o.call(s,n),a.current=n)},[n,a]),[n,u,s]}function ve(e){return typeof e=="function"}function we(e){const r=d.useRef({value:e,previous:e});return d.useMemo(()=>(r.current.value!==e&&(r.current.previous=r.current.value,r.current.value=e),r.current.previous),[e])}function Se(e){const[r,n]=d.useState(void 0);return F(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const u=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const s=a[0];let o,i;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,i=c.blockSize}else o=e.offsetWidth,i=e.offsetHeight;n({width:o,height:i})});return u.observe(e,{box:"border-box"}),()=>u.unobserve(e)}else n(void 0)},[e]),r}var Ce=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],T=Ce.reduce((e,r)=>{const n=q(`Primitive.${r}`),u=d.forwardRef((a,s)=>{const{asChild:o,...i}=a,l=o?n:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),t.jsx(l,{...i,ref:s})});return u.displayName=`Primitive.${r}`,{...e,[r]:u}},{}),y="Switch",[ye,tt]=ge(y),[Pe,_e]=ye(y),z=d.forwardRef((e,r)=>{const{__scopeSwitch:n,name:u,checked:a,defaultChecked:s,required:o,disabled:i,value:l="on",onCheckedChange:c,form:f,...m}=e,[p,h]=d.useState(null),g=E(r,C=>h(C)),x=d.useRef(!1),b=p?f||!!p.closest("form"):!0,[k,_]=je({prop:a,defaultProp:s??!1,onChange:c,caller:y});return t.jsxs(Pe,{scope:n,checked:k,disabled:i,children:[t.jsx(T.button,{type:"button",role:"switch","aria-checked":k,"aria-required":o,"data-state":L(k),"data-disabled":i?"":void 0,disabled:i,value:l,...m,ref:g,onClick:pe(e.onClick,C=>{_(A=>!A),b&&(x.current=C.isPropagationStopped(),x.current||C.stopPropagation())})}),b&&t.jsx(O,{control:p,bubbles:!x.current,name:u,value:l,checked:k,required:o,disabled:i,form:f,style:{transform:"translateX(-100%)"}})]})});z.displayName=y;var M="SwitchThumb",B=d.forwardRef((e,r)=>{const{__scopeSwitch:n,...u}=e,a=_e(M,n);return t.jsx(T.span,{"data-state":L(a.checked),"data-disabled":a.disabled?"":void 0,...u,ref:r})});B.displayName=M;var Ne="SwitchBubbleInput",O=d.forwardRef(({__scopeSwitch:e,control:r,checked:n,bubbles:u=!0,...a},s)=>{const o=d.useRef(null),i=E(o,s),l=we(n),c=Se(r);return d.useEffect(()=>{const f=o.current;if(!f)return;const m=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(m,"checked").set;if(l!==n&&h){const g=new Event("click",{bubbles:u});h.call(f,n),f.dispatchEvent(g)}},[l,n,u]),t.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:i,style:{...a.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});O.displayName=Ne;function L(e){return e?"checked":"unchecked"}var $e=z,De=B;function Re({className:e,...r}){return t.jsx($e,{"data-slot":"switch",className:P("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...r,children:t.jsx(De,{"data-slot":"switch-thumb",className:P("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function rt(){const{data:e,setData:r,post:n,errors:u,processing:a,reset:s}=K({judul:"",kronologi:"",waktu_kejadian:R(new Date,{representation:"date"}),tempat_kejadian:"",anonim:!1,berkas:[]}),o=c=>{r("berkas",c)},i=c=>{c.preventDefault(),n(route("pengaduan-khusus.store"),{forceFormData:!0,onSuccess:()=>{N.success("Berhasil mengirim pengaduan"),s()},onError:f=>{console.log(f),N.error("Gagal mengirim pengaduan!")}})},l=c=>R(c,{representation:"date"});return t.jsxs(V,{children:[t.jsxs(Z,{children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsx(G,{children:"Form Pengaduan Khusus"}),t.jsxs(X,{children:[t.jsx(Y,{children:t.jsx(me,{className:"text-muted-foreground size-4"})}),t.jsxs(Q,{children:[t.jsx(ee,{children:"Informasi"}),t.jsx(te,{children:"Formulir ini dirancang untuk mengumpulkan laporan terkait insiden khusus seperti pelecehan, kekerasan, diskriminasi, atau tindakan tidak etis lainnya. Semua laporan akan dirahasiakan dan hanya digunakan untuk keperluan penanganan dan penyelesaian kasus."})]})]})]}),t.jsx(H,{children:"Lengkapi form dibawah ini untuk memberikan pengaduan."})]}),t.jsx(J,{children:t.jsxs("form",{onSubmit:i,className:"space-y-6",children:[t.jsxs("div",{className:"grid gap-2",children:[t.jsxs(v,{htmlFor:"judul",children:["Judul",t.jsx(S,{})]}),t.jsx(D,{id:"judul",onChange:c=>r("judul",c.target.value),value:e.judul}),t.jsx(w,{message:u.judul})]}),t.jsxs("div",{className:"grid gap-2",children:[t.jsxs(v,{htmlFor:"kronologi",children:["Kronologi Kejadian",t.jsx(S,{})]}),t.jsx(oe,{id:"kronologi",value:e.kronologi,onChange:c=>r("kronologi",c.target.value)}),t.jsx(w,{message:u.kronologi})]}),t.jsxs("div",{className:"grid gap-2",children:[t.jsxs(v,{htmlFor:"waktu_kejadian",children:["Waktu Kejadian",t.jsx(S,{})]}),t.jsxs(ne,{modal:!0,children:[t.jsx(ae,{asChild:!0,children:t.jsxs($,{variant:"outline",className:P("w-full pl-3 text-left font-normal",!e.waktu_kejadian&&"text-muted-foreground"),children:[e.waktu_kejadian?ce(new Date(e.waktu_kejadian),"PPP",{locale:ue}):t.jsx("span",{children:"Pilih tanggal"}),t.jsx(le,{className:"ml-auto h-4 w-4 opacity-50"})]})}),t.jsx(se,{className:"w-auto p-0",align:"start",children:t.jsx(W,{mode:"single",required:!0,selected:new Date(e.waktu_kejadian),onSelect:c=>{c&&r("waktu_kejadian",l(c))},initialFocus:!0})})]}),t.jsx(w,{message:u.waktu_kejadian})]}),t.jsxs("div",{className:"grid gap-2",children:[t.jsxs(v,{htmlFor:"tempat_kejadian",children:["Tempat Kejadian",t.jsx(S,{})]}),t.jsx(D,{id:"tempat_kejadian",onChange:c=>r("tempat_kejadian",c.target.value),value:e.tempat_kejadian}),t.jsx(w,{message:u.tempat_kejadian})]}),t.jsxs("div",{className:"grid gap-2",children:[t.jsxs(v,{children:["Lampiran",t.jsx(S,{})]}),t.jsx("div",{className:"mx-auto min-h-96 w-full rounded-lg border border-dashed border-neutral-200 bg-white dark:border-neutral-800 dark:bg-black",children:t.jsx(re,{isMultiple:!0,onChange:o})}),t.jsx(w,{message:u.berkas})]}),t.jsxs("div",{className:"grid gap-2",children:[t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(Re,{id:"anonim",onCheckedChange:c=>r("anonim",c)}),t.jsx(v,{htmlFor:"anonim",children:"Anonim"})]}),t.jsx("p",{className:"text-muted-foreground text-xs",children:"Perhatian: jika diaktifkan, pengaduan ini tidak akan tampil di landing page."})]}),t.jsx($,{disabled:a,children:"Submit"})]})})]})}export{rt as default};
