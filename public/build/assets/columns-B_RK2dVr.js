import{j as a,r as h,K as S,S as o,a as l}from"./app-CAvyFRqv.js";import{A as u,a as m,b as x,c as j,d as p,e as k,f,g as N,h as v}from"./alert-dialog-pohk2Yk1.js";import{B as w}from"./badge-DBM6t5QF.js";import{B as r}from"./button-CszRFoD3.js";import{D as T,a as E,b as B,c as K}from"./dialog-D9yIqKD0.js";import{h as y}from"./helpers-Bw55Ac1T.js";import{c as M}from"./utils-7joyUr45.js";import{A as n}from"./arrow-up-down-C06c0ile.js";import{E as _}from"./eye-O9rgUUA4.js";import{T as I,a as z}from"./triangle-alert-wVwtsWAc.js";import{C as P}from"./check-DRKuiivD.js";import{X as R}from"./index-CUEbW2Y6.js";import{f as F,i as Y}from"./id-CN8iUG6p.js";import"./createLucideIcon-Dohd9kL3.js";import"./index-B5Lerra9.js";import"./tslib.es6-BUas5LQb.js";const ra=[{accessorKey:"created_at",id:"Tanggal laporan",header:({column:e})=>a.jsxs(r,{variant:"ghost",onClick:()=>e.toggleSorting(e.getIsSorted()==="asc"),children:["Tanggal Pengaduan",a.jsx(n,{className:"ml-2 h-4 w-4"})]}),cell:({row:e})=>{const i=e.original.created_at,s=F(i,"EEEE, d MMMM y",{locale:Y});return a.jsx("span",{className:"pl-4 text-center font-medium",children:s})}},{accessorKey:"user.nim",id:"NIM",header:({column:e})=>a.jsxs(r,{variant:"ghost",onClick:()=>e.toggleSorting(e.getIsSorted()==="asc"),children:["NIM",a.jsx(n,{className:"ml-2 h-4 w-4"})]}),cell:({row:e})=>a.jsx("span",{className:"ml-3",children:e.original.user.nim})},{accessorKey:"user.name",id:"Nama",header:({column:e})=>a.jsxs(r,{variant:"ghost",onClick:()=>e.toggleSorting(e.getIsSorted()==="asc"),children:["Nama",a.jsx(n,{className:"ml-2 h-4 w-4"})]}),cell:({row:e})=>a.jsx("span",{className:"ml-3",children:e.original.user.name})},{accessorKey:"judul",id:"judul",header:({column:e})=>a.jsxs(r,{variant:"ghost",onClick:()=>e.toggleSorting(e.getIsSorted()==="asc"),children:["Judul",a.jsx(n,{className:"ml-2 h-4 w-4"})]}),cell:({row:e})=>{const i=e.original.judul;return a.jsx("div",{className:"w-[200px] truncate pl-4",children:i})}},{accessorKey:"latest_status.status",id:"status",header:({column:e})=>a.jsxs(r,{variant:"ghost",onClick:()=>e.toggleSorting(e.getIsSorted()==="asc"),children:["Status",a.jsx(n,{className:"ml-2 h-4 w-4"})]}),cell:({row:e})=>{const s={Diajukan:"bg-yellow-500 text-yellow-100",Diproses:"bg-blue-500 text-blue-100",Selesai:"bg-green-500 text-green-100",Ditolak:"bg-red-500 text-red-100"}[e.original.latest_status.status]??"bg-gray-500 text-white";return a.jsx(w,{className:M("ml-3",s),children:e.original.latest_status.status})}},{accessorKey:"latest_status.tindakan",id:"tindakan",header:"Tindakan",cell:({row:e})=>a.jsx("span",{children:e.original.latest_status.tindakan})},{id:"aksi",header:"Aksi",cell:({row:e})=>{const[i,s]=h.useState(!1),[b,d]=h.useState(!1),A=t=>{s(!0),o.delete(route("pengaduan-khusus.destroy",{pengaduanKhusus:t}),{onSuccess:()=>{l.success("Baris berhasil dihapus!"),s(!1),d(!1)},onError:()=>{l.error("Terjadi kesalahan saat menghapus baris."),d(!1),s(!1)}})},D=(t,c)=>{s(!0),o.put(route("pengaduan.khusus.update.validasi",{pengaduanKhusus:t,validasi_rektor:c}),void 0,{onSuccess:()=>{l.success("Pengaduan berhasil divalidasi!"),s(!1)},onError:()=>{l.error("Terjadi kesalahan saat memvalidasi pengaduan."),s(!1)}})},C=(t,c)=>{s(!0),o.put(route("pengaduan.khusus.update.validasi",{pengaduanKhusus:t,validasi_rektor:c}),void 0,{onSuccess:()=>{l.success("Pengaduan berhasil divalidasi!"),s(!1)},onError:()=>{l.error("Terjadi kesalahan saat memvalidasi pengaduan."),s(!1)}})},{auth:g}=S().props;return a.jsx(a.Fragment,{children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(r,{variant:"ghost",size:"sm",onClick:()=>o.get(route("pengaduan-khusus.show",{pengaduanKhusus:e.original})),children:a.jsx(_,{className:"h-4 w-4 text-gray-800"})}),y(g.user,["admin"])&&a.jsxs(T,{open:b,onOpenChange:t=>d(t),children:[a.jsx(E,{asChild:!0,children:a.jsx(r,{variant:"ghost",size:"sm",children:a.jsx(I,{className:"h-4 w-4 text-red-500"})})}),a.jsx(B,{className:"sm:max-w-[425px]",children:a.jsxs("div",{className:"flex flex-col items-center justify-center",children:[a.jsx("div",{className:"flex h-14 w-14 items-center justify-center rounded-full bg-red-200",children:a.jsx(z,{className:"h-8 w-8 text-red-500"})}),a.jsx("h1",{className:"mt-4 text-lg font-bold",children:"Hapus Pengaduan"}),a.jsx("p",{className:"mt-2 text-gray-400",children:"Apakah Anda yakin ingin menghapus ini?"}),a.jsxs("div",{className:"mt-4 grid w-full grid-cols-2 gap-x-2",children:[a.jsx(K,{asChild:!0,children:a.jsx(r,{variant:"outline",children:"Batal"})}),a.jsx(r,{variant:"default",className:"bg-red-500 transition-all duration-300 hover:bg-red-600 active:scale-90",disabled:i,onClick:()=>A(e.original),"aria-label":"Delete row",children:"Ya, saya yakin!"})]})]})})]}),e.original.validasi_rektor===null&&a.jsx(a.Fragment,{children:y(g.user,["rektor"])&&a.jsxs("div",{className:"flex",children:[a.jsxs(u,{children:[a.jsx(m,{asChild:!0,children:a.jsx(r,{variant:"ghost",className:"size-8",children:a.jsx(P,{className:"text-green-500"})})}),a.jsxs(x,{children:[a.jsxs(j,{children:[a.jsx(p,{children:"Apakah Anda yakin ingin menyetujui pengaduan ini?"}),a.jsx(k,{children:"Aksi ini tidak dapat dibatalkan."})]}),a.jsxs(f,{children:[a.jsx(N,{children:"Batal"}),a.jsx(v,{className:"bg-sky-800",onClick:()=>C(e.original,!0),children:"Ya, saya yakin!"})]})]})]}),a.jsxs(u,{children:[a.jsx(m,{asChild:!0,children:a.jsx(r,{variant:"ghost",className:"size-8",children:a.jsx(R,{className:"text-red-500"})})}),a.jsxs(x,{children:[a.jsxs(j,{children:[a.jsx(p,{children:"Apakah Anda yakin ingin menolak pengaduan ini?"}),a.jsx(k,{children:"Aksi ini tidak dapat dibatalkan."})]}),a.jsxs(f,{children:[a.jsx(N,{children:"Batal"}),a.jsx(v,{className:"bg-red-500",onClick:()=>D(e.original,!1),children:"Ya, saya yakin!"})]})]})]})]})})]})})}}];export{ra as columns};
