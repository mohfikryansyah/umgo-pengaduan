import{r as x,j as e,K as $,$ as g}from"./app-w6QwSvNn.js";import{l as B}from"./helpers-Bw55Ac1T.js";import{u as z,A as H,a as Z,b as W}from"./avatar-D1hwYsAE.js";import{B as S}from"./badge-CTppRCHH.js";import{B as h}from"./button-zN_W_1eC.js";import{C}from"./calendar-nS-3vLsS.js";import{C as T,a as I}from"./card-CZoZZmJg.js";import{I as V}from"./input-DF5eF8RS.js";import{P as M,a as E,b as U}from"./popover-G2q_FtAv.js";import{S as G,a as q,b as J,c as K,d as X,e as p}from"./select-CA9Hvfff.js";import{t as y,c as Q,m as O,a as P,s as ee,f as j,i as N}from"./id-CUEIbMhn.js";import{X as te}from"./index-8Kv_REnq.js";import{u as ae,S as se,a as re,b as ne}from"./use-mobile-Dc2VDZzG.js";import{A as le}from"./app-logo-icon-uViXqrL4.js";import{c as ie}from"./createLucideIcon-DFnSf-LW.js";import ce from"./footer-Bh2Oj3pv.js";import de from"./hero-section-Bgsu9Kv_.js";import oe from"./statistik-section-DhgS3pp5.js";import"./index-Boq8JXzK.js";import"./index-CLLk-lZZ.js";import"./index-Cbl4rifO.js";import"./utils-jAU0Cazi.js";import"./floating-ui.react-dom-Dv-tBYU2.js";import"./index-rHHZrcK-.js";import"./index-BwiSU22v.js";import"./check-DkGWN5vn.js";import"./chart-2CGeZ9Kx.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],me=ie("Menu",ue);function xe(a,t){const s=y(a,t==null?void 0:t.in);return s.setHours(23,59,59,999),s}function L(a,t){const s=()=>Q(t==null?void 0:t.in,NaN),l=pe(a);let c;if(l.date){const d=je(l.date,2);c=Ne(d.restDateString,d.year)}if(!c||isNaN(+c))return s();const i=+c;let o=0,u;if(l.time&&(o=De(l.time),isNaN(o)))return s();if(l.timezone){if(u=be(l.timezone),isNaN(u))return s()}else{const d=new Date(i+o),n=y(0,t==null?void 0:t.in);return n.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),n.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),n}return y(i+o+u,t==null?void 0:t.in)}const D={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},fe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,he=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,ge=/^([+-])(\d{2})(?::?(\d{2}))?$/;function pe(a){const t={},s=a.split(D.dateTimeDelimiter);let r;if(s.length>2)return t;if(/:/.test(s[0])?r=s[0]:(t.date=s[0],r=s[1],D.timeZoneDelimiter.test(t.date)&&(t.date=a.split(D.timeZoneDelimiter)[0],r=a.substr(t.date.length,a.length))),r){const l=D.timezone.exec(r);l?(t.time=r.replace(l[1],""),t.timezone=l[1]):t.time=r}return t}function je(a,t){const s=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=a.match(s);if(!r)return{year:NaN,restDateString:""};const l=r[1]?parseInt(r[1]):null,c=r[2]?parseInt(r[2]):null;return{year:c===null?l:c*100,restDateString:a.slice((r[1]||r[2]).length)}}function Ne(a,t){if(t===null)return new Date(NaN);const s=a.match(fe);if(!s)return new Date(NaN);const r=!!s[4],l=f(s[1]),c=f(s[2])-1,i=f(s[3]),o=f(s[4]),u=f(s[5])-1;if(r)return Se(t,o,u)?ye(t,o,u):new Date(NaN);{const d=new Date(0);return!we(t,c,i)||!ke(t,l)?new Date(NaN):(d.setUTCFullYear(t,c,Math.max(l,i)),d)}}function f(a){return a?parseInt(a):1}function De(a){const t=a.match(he);if(!t)return NaN;const s=b(t[1]),r=b(t[2]),l=b(t[3]);return Ce(s,r,l)?s*O+r*P+l*1e3:NaN}function b(a){return a&&parseFloat(a.replace(",","."))||0}function be(a){if(a==="Z")return 0;const t=a.match(ge);if(!t)return 0;const s=t[1]==="+"?-1:1,r=parseInt(t[2]),l=t[3]&&parseInt(t[3])||0;return Te(r,l)?s*(r*O+l*P):NaN}function ye(a,t,s){const r=new Date(0);r.setUTCFullYear(a,0,4);const l=r.getUTCDay()||7,c=(t-1)*7+s+1-l;return r.setUTCDate(r.getUTCDate()+c),r}const ve=[31,null,31,30,31,30,31,31,30,31,30,31];function A(a){return a%400===0||a%4===0&&a%100!==0}function we(a,t,s){return t>=0&&t<=11&&s>=1&&s<=(ve[t]||(A(a)?29:28))}function ke(a,t){return t>=1&&t<=(A(a)?366:365)}function Se(a,t,s){return t>=1&&t<=53&&s>=0&&s<=6}function Ce(a,t,s){return a===24?t===0&&s===0:s>=0&&s<60&&t>=0&&t<60&&a>=0&&a<25}function Te(a,t){return t>=0&&t<=59}function Ie({items:a}){const t=z(),[s,r]=x.useState(""),[l,c]=x.useState(5),[i,o]=x.useState({search:"",startDate:null,endDate:null,status:""});x.useEffect(()=>{const n=setTimeout(()=>{o(m=>({...m,search:s}))},500);return()=>clearTimeout(n)},[s]),x.useEffect(()=>{c(5)},[i]);const u=a.filter(n=>{const m=n.judul.toLowerCase().includes(i.search.toLowerCase()),R=i.status?n.latest_status.status===i.status:!0,v=new Date(n.created_at),w=i.startDate?ee(new Date(i.startDate)):null,k=i.endDate?xe(new Date(i.endDate)):null,Y=(!w||v>=w)&&(!k||v<=k);return m&&R&&Y}),d=()=>{o({search:"",startDate:null,endDate:null,status:""}),r("")};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"mb-6 max-w-3xl items-center gap-2 not-md:space-y-2 md:flex",children:[e.jsx(V,{placeholder:"Cari pengaduan...",className:"text-sm",value:s,onChange:n=>r(n.target.value)}),e.jsxs(M,{children:[e.jsx(E,{asChild:!0,children:e.jsx(h,{className:"not-md:w-full",variant:"outline",children:i.startDate?j(L(i.startDate),"d MMM yyyy",{locale:N}):"Dari Tanggal"})}),e.jsx(U,{className:"w-auto p-0",align:"start",children:e.jsx(C,{mode:"single",selected:i.startDate?new Date(i.startDate):void 0,onSelect:n=>o(m=>({...m,startDate:n?n.toISOString():null}))})})]}),e.jsxs(M,{children:[e.jsx(E,{asChild:!0,children:e.jsx(h,{className:"not-md:w-full",variant:"outline",children:i.endDate?j(L(i.endDate),"d MMM yyyy",{locale:N}):"Sampai Tanggal"})}),e.jsx(U,{className:"w-auto p-0",align:"start",children:e.jsx(C,{mode:"single",selected:i.endDate?new Date(i.endDate):void 0,onSelect:n=>o(m=>({...m,endDate:n?n.toISOString():null}))})})]}),e.jsxs(G,{value:i.status,onValueChange:n=>o(m=>({...m,status:n})),children:[e.jsx(q,{className:"md:w-[300px]",children:e.jsx(J,{placeholder:"Pilih status",className:"whitespace-normal"})}),e.jsx(K,{children:e.jsxs(X,{children:[e.jsx(p,{value:"Diajukan",children:"Diajukan"}),e.jsx(p,{value:"Diproses",children:"Diproses"}),e.jsx(p,{value:"Selesai",children:"Selesai"}),e.jsx(p,{value:"Ditolak",children:"Ditolak"})]})})]}),(i.search||i.endDate||i.startDate||i.status)&&e.jsxs(h,{onClick:d,variant:"ghost",children:[e.jsx(te,{}),"Reset"]})]}),u.length>0?e.jsxs(e.Fragment,{children:[u.slice(0,l).map(n=>e.jsx(T,{children:e.jsxs(I,{children:[e.jsxs("div",{className:"items-center justify-between not-md:space-y-3 md:flex",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("p",{children:"Bidang:"}),e.jsx(S,{variant:"outline",children:n.bidang}),e.jsx(S,{className:"ml-4 bg-sky-800",children:n.latest_status.status})]}),e.jsxs("div",{className:"gap-4 text-sm text-gray-700 md:flex",children:[e.jsxs("p",{children:["Dibuat: ",j(n.created_at,"EEEE, d MMMM y",{locale:N})]}),e.jsxs("p",{children:["Pembaruan:"," ",j(n.latest_status.created_at,"EEEE, d MMMM y",{locale:N})]})]})]}),e.jsxs("div",{className:"mt-6 border-b pb-4",children:[e.jsx("h1",{className:"text-xl font-semibold text-blue-500",children:n.judul}),e.jsx("p",{className:"mt-2 text-sm leading-6 text-gray-600",children:B(n.isi,300)})]}),e.jsx("div",{className:"mt-4 flex items-center justify-between",children:e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("p",{className:"text-sm text-gray-700",children:"Pengaduan dari:"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(H,{className:"h-8 w-8 overflow-hidden rounded-full",children:[e.jsx(Z,{src:"/storage/"+n.user.avatar,alt:n.user.name}),e.jsx(W,{className:"rounded-lg bg-neutral-200 text-black dark:bg-neutral-700 dark:text-white",children:t(n.user.name)})]}),e.jsx("div",{className:"grid flex-1 items-center text-left text-sm leading-tight",children:e.jsx("span",{className:"truncate font-semibold text-blue-500",children:n.user.name})})]})]})})]})},n.id)),l<u.length&&e.jsx("div",{className:"mt-6 flex justify-center",children:e.jsx(h,{onClick:()=>c(n=>n+5),variant:"outline",children:"Lihat Lebih Banyak"})})]}):e.jsx(T,{className:"border-dashed py-10 shadow-none",children:e.jsx(I,{className:"flex items-center justify-center text-gray-500",children:"Tidak ada data ditemukan"})})]})}function Me(){return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-sidebar-primary-foreground flex aspect-square size-10 items-center justify-center rounded-md",children:e.jsx(le,{className:"size-10"})}),e.jsx("div",{className:"grid flex-1 text-left text-lg text-gray-100",children:e.jsx("span",{className:"truncate leading-none font-semibold",children:"E-Lapor UMGO"})})]})}const F=[{label:"Home",href:"#",current:!0},{label:"About",href:"#"},{label:"Services",href:"#"},{label:"Contact",href:"#"}];function _({label:a,href:t,current:s=!1}){return e.jsx("li",{children:e.jsx("a",{href:t,className:`block rounded-sm px-3 py-2 md:p-0 ${s?"bg-blue-700 text-white md:bg-transparent md:text-white md:dark:text-blue-500":"md:text-white text-black hover:bg-gray-100 md:hover:bg-transparent md:hover:text-black dark:text-white dark:hover:bg-gray-700 md:dark:hover:text-blue-500"}`,"aria-current":s?"page":void 0,children:a})})}function Ee(){const{auth:a}=$().props;return ae(),e.jsx("nav",{className:"fixed start-0 top-0 z-20 w-full bg-sky-800 dark:border-gray-600 dark:bg-gray-900",children:e.jsxs("div",{className:"mx-auto flex max-w-screen-xl flex-wrap items-center justify-between p-4",children:[e.jsx(g,{href:"/",className:"flex items-center space-x-3 rtl:space-x-reverse",children:e.jsx(Me,{})}),e.jsxs("div",{className:"flex items-center space-x-3 md:order-2 md:space-x-0 rtl:space-x-reverse",children:[e.jsx("div",{className:"md:flex hidden items-center gap-2",children:a.user?e.jsx(g,{href:route("dashboard"),className:"inline-block rounded-sm bg-gray-100 px-5 py-1.5 text-sm leading-normal",children:"Dashboard"}):e.jsxs(e.Fragment,{children:[e.jsxs(g,{href:route("register"),className:"text-sm leading-normal text-gray-300",children:["Belum punya akun?",e.jsx("span",{className:"px-1 text-gray-100 underline underline-offset-4",children:"Register"})]}),e.jsx(g,{href:route("login"),className:"inline-block rounded-sm bg-gray-100 px-5 py-1.5 text-sm leading-normal",children:"Log in"})]})}),e.jsxs(se,{children:[e.jsx(re,{asChild:!0,children:e.jsx(h,{variant:"outline",className:"md:hidden",children:e.jsx(me,{})})}),e.jsx(ne,{side:"left",children:e.jsx("ul",{className:"mt-4 flex flex-col gap-2 rounded-lg p-4 font-medium dark:border-gray-700 dark:bg-gray-800",children:F.map(t=>e.jsx(_,{...t},t.label))})})]})]}),e.jsx("div",{className:"hidden w-full items-center justify-between md:order-1 md:flex md:w-auto",id:"navbar-sticky",children:e.jsx("ul",{className:"mt-4 ml-24 flex flex-col rounded-lg bg-transparent p-4 font-medium md:mt-0 md:flex-row md:space-x-8 md:border-0 md:p-0 rtl:space-x-reverse",children:F.map(t=>e.jsx(_,{...t},t.label))})})]})})}function Ue({children:a}){return e.jsxs("div",{className:"flex flex-col flex-1 h-full w-full",children:[e.jsx(Ee,{}),a]})}function lt({pengaduans:a,chartData:t,countAllPengaduan:s,countPengaduanDiproses:r,countPengaduanSelesai:l}){return z(),e.jsx(Ue,{children:e.jsxs("div",{className:"flex h-full w-full flex-1 flex-col",children:[e.jsx(de,{}),e.jsx(oe,{data:{chartData:t,countAllPengaduan:s,countPengaduanDiproses:r,countPengaduanSelesai:l}}),e.jsxs("div",{className:"mx-auto flex w-full max-w-6xl flex-col gap-8 p-4",children:[e.jsx("h1",{className:"text-4xl font-semibold text-gray-800",children:"Daftar Pengaduan"}),e.jsx(Ie,{items:a})]}),e.jsx(ce,{})]})})}export{lt as default};
