import{j as e,r as o,K as f,S as c,a as d}from"./app-CAvyFRqv.js";import{u as N,A as k,a as m,b as v}from"./avatar-Dq7Kb91E.js";import{B as r}from"./button-CszRFoD3.js";import{D as g,a as h,b as x,c as b}from"./dialog-D9yIqKD0.js";import{h as y}from"./helpers-Bw55Ac1T.js";import{A as t}from"./arrow-up-down-C06c0ile.js";import{E as S}from"./eye-O9rgUUA4.js";import{T as w,a as C}from"./triangle-alert-wVwtsWAc.js";import{f as A,i as D}from"./id-CN8iUG6p.js";import"./index-MRBmxltY.js";import"./index-C4yxe0Kb.js";import"./index-B5Lerra9.js";import"./utils-7joyUr45.js";import"./index-CUEbW2Y6.js";import"./createLucideIcon-Dohd9kL3.js";import"./tslib.es6-BUas5LQb.js";const Y=[{accessorKey:"name",id:"nama",header:({column:a})=>e.jsxs(r,{variant:"ghost",onClick:()=>a.toggleSorting(a.getIsSorted()==="asc"),children:["Nama",e.jsx(t,{className:"ml-2 h-4 w-4"})]}),cell:({row:a})=>{const s=N();return e.jsxs("div",{className:"flex items-center",children:[e.jsxs(k,{className:"size-8 overflow-hidden rounded-full",children:[e.jsxs(g,{children:[e.jsx(h,{children:e.jsx(m,{src:"/storage/"+a.original.avatar,alt:a.original.name})}),e.jsx(x,{children:e.jsx(m,{src:"/storage/"+a.original.avatar,alt:a.original.name})})]}),e.jsx(v,{className:"rounded-lg bg-neutral-200 text-black dark:bg-neutral-700 dark:text-white",children:s(a.original.name)})]}),e.jsx("span",{className:"ml-3",children:a.original.name})]})}},{accessorKey:"username",id:"Nama Pengguna",header:({column:a})=>e.jsxs(r,{variant:"ghost",onClick:()=>a.toggleSorting(a.getIsSorted()==="asc"),children:["Nama Pengguna",e.jsx(t,{className:"ml-2 h-4 w-4"})]}),cell:({row:a})=>e.jsx("span",{className:"ml-3",children:a.original.username})},{accessorKey:"email",id:"email",header:({column:a})=>e.jsxs(r,{variant:"ghost",onClick:()=>a.toggleSorting(a.getIsSorted()==="asc"),children:["Email",e.jsx(t,{className:"ml-2 h-4 w-4"})]}),cell:({row:a})=>e.jsx("span",{className:"ml-3",children:a.original.email})},{accessorKey:"nim",id:"nim",header:({column:a})=>e.jsxs(r,{variant:"ghost",onClick:()=>a.toggleSorting(a.getIsSorted()==="asc"),children:["NIM",e.jsx(t,{className:"ml-2 h-4 w-4"})]})},{accessorKey:"role_names",id:"role",header:"Role",cell:({row:a})=>{const s=a.original.role_names[0],l=s.startsWith("warek_")?s.replace("warek_","Wakil Rektor "):s==="rektor"?"Rektor":s;return e.jsx("span",{className:"ml-3",children:l})}},{accessorKey:"created_at",id:"Tanggal bergabung",header:({column:a})=>e.jsxs(r,{variant:"ghost",onClick:()=>a.toggleSorting(a.getIsSorted()==="asc"),children:["Tanggal Bergabung",e.jsx(t,{className:"ml-2 h-4 w-4"})]}),cell:({row:a})=>{const s=a.original.created_at,l=A(s,"EEEE, d MMMM y",{locale:D});return e.jsx("span",{className:"pl-4 text-center font-medium",children:l})}},{id:"aksi",header:"Aksi",cell:({row:a})=>{const[s,l]=o.useState(!1),[u,i]=o.useState(!1),j=n=>{l(!0),c.delete(route("delete.user",{user:n}),{onSuccess:()=>{d.success("Baris berhasil dihapus!"),l(!1),i(!1)},onError:()=>{d.error("Terjadi kesalahan saat menghapus baris."),i(!1),l(!1)}})},{auth:p}=f().props;return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(r,{variant:"ghost",size:"sm",onClick:()=>c.get(route("pengaduan.show",{pengaduan:a.original})),children:e.jsx(S,{className:"h-4 w-4 text-gray-800"})}),y(p.user,["admin"])&&e.jsxs(g,{open:u,onOpenChange:n=>i(n),children:[e.jsx(h,{asChild:!0,children:e.jsx(r,{variant:"ghost",size:"sm",children:e.jsx(w,{className:"h-4 w-4 text-red-500"})})}),e.jsx(x,{className:"sm:max-w-[425px]",children:e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx("div",{className:"flex h-14 w-14 items-center justify-center rounded-full bg-red-200",children:e.jsx(C,{className:"h-8 w-8 text-red-500"})}),e.jsx("h1",{className:"mt-4 text-lg font-bold",children:"Hapus User"}),e.jsx("p",{className:"mt-2 text-gray-400",children:"Apakah Anda yakin ingin menghapus ini?"}),e.jsxs("div",{className:"mt-4 grid w-full grid-cols-2 gap-x-2",children:[e.jsx(b,{asChild:!0,children:e.jsx(r,{variant:"outline",children:"Batal"})}),e.jsx(r,{variant:"default",className:"bg-red-500 transition-all duration-300 hover:bg-red-600 active:scale-90",disabled:s,onClick:()=>j(a.original),"aria-label":"Delete row",children:"Ya, saya yakin!"})]})]})})]})]})})}}];export{Y as columns};
