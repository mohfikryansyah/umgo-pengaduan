import{r as i,j as l}from"./app-w6QwSvNn.js";import{c as C,a as L,u as g}from"./index-Boq8JXzK.js";import{P as d}from"./index-CLLk-lZZ.js";import{c as f}from"./utils-jAU0Cazi.js";function P(){return i.useCallback(t=>{const a=t.trim().split(" ");if(a.length===0)return"";if(a.length===1)return a[0].charAt(0).toUpperCase();const s=a[0].charAt(0),e=a[a.length-1].charAt(0);return`${s}${e}`.toUpperCase()},[])}var m="Avatar",[w,F]=C(m),[b,A]=w(m),p=i.forwardRef((t,a)=>{const{__scopeAvatar:s,...e}=t,[n,r]=i.useState("idle");return l.jsx(b,{scope:s,imageLoadingStatus:n,onImageLoadingStatusChange:r,children:l.jsx(d.span,{...e,ref:a})})});p.displayName=m;var x="AvatarImage",S=i.forwardRef((t,a)=>{const{__scopeAvatar:s,src:e,onLoadingStatusChange:n=()=>{},...r}=t,u=A(x,s),o=j(e,r.referrerPolicy),c=L(v=>{n(v),u.onImageLoadingStatusChange(v)});return g(()=>{o!=="idle"&&c(o)},[o,c]),o==="loaded"?l.jsx(d.img,{...r,ref:a,src:e}):null});S.displayName=x;var h="AvatarFallback",I=i.forwardRef((t,a)=>{const{__scopeAvatar:s,delayMs:e,...n}=t,r=A(h,s),[u,o]=i.useState(e===void 0);return i.useEffect(()=>{if(e!==void 0){const c=window.setTimeout(()=>o(!0),e);return()=>window.clearTimeout(c)}},[e]),u&&r.imageLoadingStatus!=="loaded"?l.jsx(d.span,{...n,ref:a}):null});I.displayName=h;function j(t,a){const[s,e]=i.useState("idle");return g(()=>{if(!t){e("error");return}let n=!0;const r=new window.Image,u=o=>()=>{n&&e(o)};return e("loading"),r.onload=u("loaded"),r.onerror=u("error"),r.src=t,a&&(r.referrerPolicy=a),()=>{n=!1}},[t,a]),s}var k=p,N=S,R=I;function $({className:t,...a}){return l.jsx(k,{"data-slot":"avatar",className:f("relative flex size-8 shrink-0 overflow-hidden rounded-full",t),...a})}function z({className:t,...a}){return l.jsx(N,{"data-slot":"avatar-image",className:f("aspect-square size-full",t),...a})}function T({className:t,...a}){return l.jsx(R,{"data-slot":"avatar-fallback",className:f("bg-muted flex size-full items-center justify-center rounded-full",t),...a})}export{$ as A,z as a,T as b,P as u};
